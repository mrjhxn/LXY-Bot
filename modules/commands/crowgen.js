const _0x157f36 = _0x3e87;
(function (_0x1d0bc8, _0x2bd358) {
    const _0x12f8a3 = _0x3e87,
        _0x45154f = _0x1d0bc8();
    while (!![]) {
        try {
            const _0x220cdf = parseInt(_0x12f8a3(0x191)) / (0x11 * 0x219 + 0xaa3 * 0x1 + 0x7 * -0x69d) * (-parseInt(_0x12f8a3(0x1b5)) / (-0x1 * -0xf25 + 0x1405 + -0x5 * 0x708)) + -parseInt(_0x12f8a3(0x1a5)) / (0xbe1 + -0xc94 + 0xb6) + -parseInt(_0x12f8a3(0x1a7)) / (0x97 * 0x31 + 0x16aa + -0x53 * 0x9f) + -parseInt(_0x12f8a3(0x1d4)) / (-0x2d7 + 0x71e * -0x1 + 0x9fa) + parseInt(_0x12f8a3(0x184)) / (-0xf * 0x227 + -0x102b + -0x55 * -0x92) * (-parseInt(_0x12f8a3(0x1aa)) / (-0x1841 + 0x1f40 + -0x4 * 0x1be)) + -parseInt(_0x12f8a3(0x18e)) / (0x74f * 0x5 + 0x209c + -0x451f) + parseInt(_0x12f8a3(0x1bf)) / (0xfb8 + 0x3ff + 0x9d7 * -0x2);
            if (_0x220cdf === _0x2bd358) break;
            else _0x45154f['push'](_0x45154f['shift']());
        } catch (_0x41de4d) {
            _0x45154f['push'](_0x45154f['shift']());
        }
    }
}(_0x4f9c, -0x2b1f2 + -0x7f9d + 0xa2862));
function _0x4f9c() {
    const _0x1c953c = ['5560400OcBVDx', 'http', 'xEQYo', '6512lnarRF', 'style ', 'crowgen a ', 'crowgen [p', 'cLWtB', 'etching th', 'config', 'JzphZ', 'ving image', 'error', 'NrmhU', '?id=100074', 'LNhHG', 'eSZPy', 'CbHoI', 'unlinkSync', 'KDpXB', 'eStream', 'sponse:', 'se wait...', '2693631UUzYWi', ' Client re', '2216416EBqyQN', 't: ', 'Wambl', '326739GYxYbn', 'There was ', 'extname', 'rompt.\x0a\x0aEx', 'midjourney', ' file:', 'string', 'Midjourney', 'liester Cr', 'log', 'createRead', '214HHQbdw', 'beautiful ', 'LfjAM', 'jaOZs', 'again late', 'join', 'existsSync', '⚠️ Please p', 'length', '1.0.0', '35911773ZfFiBE', 'rompt]', 'createWrit', 'rovide a p', 'startsWith', 'exports', '✅ Processi', 'crowgen', 'ageUrl val', 'pipe', 'odule by A', 'Misc', 'JpEKy', 'Error remo', 'naNNM', 'elf, mythi', 'AI Image G', 'finish', 'AwaDb', 'cache', 'rowley', '2749740qAXUeV', 'owley\x0ahttp', 'lease try ', 'Stream', 'Invalid im', 's://m.face', 'ion, 4k, c', 'y detailed', 'ng your pr', 'HGzpl', 'ample:\x0a', 'request', '-client', 'cal, highl', ', art stat', 'jdCyV', 'RAsVV', 'AuXua', 'inematic l', 'book.com/p', 'mkdirSync', 'dlDmM', 'messageID', 'rofile.php', 'eneration', 'Error send', 'isArray', 'threadID', 'sendMessag', 'Error:', 'Your promp', 'crowgenai', 'Aliester C', 'wkgCp', 'an error f', 'ompt. Plea', 'path', '18aEQaXd', 'default', 'xmAnD', '952634497', 'ighting\x0a\x0aM', 'vCXwJ', 'mdjrny-v4 ', 'ing messag', 'e image. P', 'PREFIX'];
    _0x4f9c = function () {
        return _0x1c953c;
    };
    return _0x4f9c();
}
const fs = require('fs'),
    path = require(_0x157f36(0x183)),
    request = require(_0x157f36(0x1df)),
    image_dimensions = {
        'width': 0x300,
        'height': 0x300
    };
module[_0x157f36(0x1c4)] = {
    'config': {
        'name': "midjourney",
        'version': _0x157f36(0x1be),
        'hasPermission': 0x0,
        'credits': _0x157f36(0x17f) + _0x157f36(0x1d3),
        'description': _0x157f36(0x1cf) + _0x157f36(0x177),
        'commandCategory': _0x157f36(0x1ca),
        'usages': _0x157f36(0x194) + _0x157f36(0x1c0),
        'cooldowns': 0x3
    },
    'run': async ({
        api: _0x5c3def,
        event: _0x407061,
        args: _0x3618a1
    }) => {
        const _0x22e365 = _0x157f36,
            _0x43dc8e = {
                'CbHoI': function (_0x15077e, _0x13a591) {
                    return _0x15077e === _0x13a591;
                },
                'Wambl': _0x22e365(0x1c5) + _0x22e365(0x1dc) + _0x22e365(0x182) + _0x22e365(0x1a4),
                'xmAnD': function (_0x3a4d22, _0x595cda) {
                    return _0x3a4d22(_0x595cda);
                },
                'AwaDb': function (_0x1845e2, _0x2085d4) {
                    return _0x1845e2(_0x2085d4);
                },
                'xEQYo': function (_0x399992, _0x43e7c8, _0x2679df, _0x1dd01d, _0xdda7f2) {
                    return _0x399992(_0x43e7c8, _0x2679df, _0x1dd01d, _0xdda7f2);
                },
                'eSZPy': function (_0x315f4d, _0x15b94e) {
                    return _0x315f4d(_0x15b94e);
                },
                'LNhHG': _0x22e365(0x17c),
                'HGzpl': _0x22e365(0x1ab) + _0x22e365(0x181) + _0x22e365(0x196) + _0x22e365(0x18c) + _0x22e365(0x1d6) + _0x22e365(0x1b9) + 'r.'
            };
        try {
            if (_0x43dc8e[_0x22e365(0x19f)](_0x3618a1[_0x22e365(0x1bd)], 0x5ac + 0x3 * 0x8b7 + -0xb5 * 0x2d)) {
                _0x5c3def[_0x22e365(0x17b) + 'e'](_0x22e365(0x1bc) + _0x22e365(0x1c2) + _0x22e365(0x1ad) + _0x22e365(0x1de) + global[_0x22e365(0x197)][_0x22e365(0x18d)] + (_0x22e365(0x193) + _0x22e365(0x1b6) + _0x22e365(0x1ce) + _0x22e365(0x1e1) + _0x22e365(0x1db) + _0x22e365(0x1e2) + _0x22e365(0x1da) + _0x22e365(0x171) + _0x22e365(0x188) + _0x22e365(0x1c9) + _0x22e365(0x1b2) + _0x22e365(0x1d5) + _0x22e365(0x1d9) + _0x22e365(0x172) + _0x22e365(0x176) + _0x22e365(0x19c) + _0x22e365(0x187)), _0x407061[_0x22e365(0x17a)]);
                return;
            }
            await _0x5c3def[_0x22e365(0x17b) + 'e'](_0x43dc8e[_0x22e365(0x1a9)], _0x407061[_0x22e365(0x17a)]);
            const _0x117b46 = _0x3618a1[_0x22e365(0x1ba)](' '),
                _0x2e6172 = await _0x43dc8e[_0x22e365(0x186)](fetchImageUrl, _0x117b46),
                _0x402321 = await _0x43dc8e[_0x22e365(0x1d1)](downloadImage, _0x2e6172);
            await _0x43dc8e[_0x22e365(0x190)](sendImage, _0x5c3def, _0x407061, _0x117b46, _0x402321), _0x43dc8e[_0x22e365(0x19e)](cleanupImage, _0x402321);
        } catch (_0x28b947) {
            console[_0x22e365(0x19a)](_0x43dc8e[_0x22e365(0x19d)], _0x28b947), _0x5c3def[_0x22e365(0x17b) + 'e'](_0x43dc8e[_0x22e365(0x1dd)], _0x407061[_0x22e365(0x17a)]);
        }
    }
};
function _0x3e87(_0xd11d74, _0x9627dc) {
    const _0x329cf4 = _0x4f9c();
    return _0x3e87 = function (_0x5f5247, _0xa427d4) {
        _0x5f5247 = _0x5f5247 - (0x5 * 0x2a5 + 0x59 * -0x1c + -0x1f * 0x11);
        let _0x5b1e14 = _0x329cf4[_0x5f5247];
        return _0x5b1e14;
    }, _0x3e87(_0xd11d74, _0x9627dc);
}
async function fetchImageUrl(_0x56a4cf) {
    const _0x3cf762 = _0x157f36,
        _0x5746a3 = {
            'JpEKy': _0x3cf762(0x1ae) + _0x3cf762(0x1e0),
            'naNNM': function (_0x3182df, _0x40d2ef, _0x40ff27) {
                return _0x3182df(_0x40d2ef, _0x40ff27);
            },
            'RAsVV': _0x3cf762(0x1b1) + _0x3cf762(0x1a6) + _0x3cf762(0x1a3),
            'wkgCp': function (_0x345b60, _0x4769fc) {
                return _0x345b60 === _0x4769fc;
            },
            'cLWtB': _0x3cf762(0x1d8) + _0x3cf762(0x1c7) + 'ue',
            'NrmhU': function (_0x41185b, _0x39278a) {
                return _0x41185b !== _0x39278a;
            },
            'JzphZ': _0x3cf762(0x1b0),
            'jdCyV': _0x3cf762(0x18f)
        },
        _0x2ec02c = (await import(_0x5746a3[_0x3cf762(0x1cb)]))[_0x3cf762(0x185)],
        _0x53bc87 = await _0x5746a3[_0x3cf762(0x1cd)](_0x2ec02c, _0x3cf762(0x18a) + _0x3cf762(0x192) + _0x56a4cf, image_dimensions);
    console[_0x3cf762(0x1b3)](_0x5746a3[_0x3cf762(0x16f)], _0x53bc87);
    if (!Array[_0x3cf762(0x179)](_0x53bc87) || _0x5746a3[_0x3cf762(0x180)](_0x53bc87[_0x3cf762(0x1bd)], -0x11e5 * 0x1 + 0x3a1 * -0x9 + 0x12 * 0x2cf)) throw new Error(_0x5746a3[_0x3cf762(0x195)]);
    const _0x18845c = _0x53bc87[0xff8 + -0x1 * -0x1d3a + 0x41 * -0xb2];
    if (!_0x18845c || _0x5746a3[_0x3cf762(0x19b)](typeof _0x18845c, _0x5746a3[_0x3cf762(0x198)]) || !_0x18845c[_0x3cf762(0x1c3)](_0x5746a3[_0x3cf762(0x16e)])) throw new Error(_0x5746a3[_0x3cf762(0x195)]);
    return _0x18845c;
}
async function downloadImage(_0x25850e) {
    const _0x51d4c0 = _0x157f36,
        _0x364cc1 = {
            'vCXwJ': _0x51d4c0(0x1d2),
            'LfjAM': function (_0x5d22b7, _0xc939ca) {
                return _0x5d22b7(_0xc939ca);
            },
            'KDpXB': _0x51d4c0(0x1d0),
            'dlDmM': _0x51d4c0(0x19a)
        };
    return new Promise((_0x589271, _0x5bca23) => {
        const _0x9f006 = _0x51d4c0,
            _0x183260 = path[_0x9f006(0x1ac)](_0x25850e),
            _0xd2727 = _0x9f006(0x17e) + _0x183260,
            _0x32c27a = path[_0x9f006(0x1ba)](__dirname, _0x364cc1[_0x9f006(0x189)]);
        !fs[_0x9f006(0x1bb)](_0x32c27a) && fs[_0x9f006(0x173)](_0x32c27a);
        const _0x42b141 = path[_0x9f006(0x1ba)](_0x32c27a, _0xd2727),
            _0x35851a = fs[_0x9f006(0x1c1) + _0x9f006(0x1a2)](_0x42b141);
        _0x364cc1[_0x9f006(0x1b7)](request, _0x25850e)[_0x9f006(0x1c8)](_0x35851a), _0x35851a['on'](_0x364cc1[_0x9f006(0x1a1)], () => _0x589271(_0x42b141)), _0x35851a['on'](_0x364cc1[_0x9f006(0x174)], _0x3d3211 => _0x5bca23(_0x3d3211));
    });
}
async function sendImage(_0x1dc0d0, _0x52a5cb, _0x3c9c24, _0x41a5e6) {
    const _0x6e5f3b = _0x157f36,
        _0x45090e = {
            'AuXua': _0x6e5f3b(0x178) + _0x6e5f3b(0x18b) + 'e:'
        };
    try {
        const _0x35b69a = {
            'body': _0x6e5f3b(0x17d) + _0x6e5f3b(0x1a8) + _0x3c9c24,
            'attachment': fs[_0x6e5f3b(0x1b4) + _0x6e5f3b(0x1d7)](_0x41a5e6)
        };
        await _0x1dc0d0[_0x6e5f3b(0x17b) + 'e'](_0x35b69a, _0x52a5cb[_0x6e5f3b(0x17a)], _0x52a5cb[_0x6e5f3b(0x175)]);
    } catch (_0x5ed278) {
        console[_0x6e5f3b(0x19a)](_0x45090e[_0x6e5f3b(0x170)], _0x5ed278);
    }
}
function cleanupImage(_0x477ccf) {
    const _0x5be53b = _0x157f36,
        _0x2c341b = {
            'jaOZs': _0x5be53b(0x1cc) + _0x5be53b(0x199) + _0x5be53b(0x1af)
        };
    try {
        fs[_0x5be53b(0x1a0)](_0x477ccf);
    } catch (_0x2411d4) {
        console[_0x5be53b(0x19a)](_0x2c341b[_0x5be53b(0x1b8)], _0x2411d4);
    }
}